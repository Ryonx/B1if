<?xml version="1.0" encoding="UTF-8"?><bizflow2 xmlns:bfa="urn:com.sap.b1i.bizprocessor:bizatoms" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="urn:com.sap.b1i.bizprocessor:bfdefinition" xsi:schemaLocation="urn:com.sap.b1i.bizprocessor:bfdefinition ../../com.sap.b1i.system/xsd/bizflow.xsd" active="true" name="vBIU.bfd" schemaversion="1.0"><interface><description>processing flow to convert message from Sender object to Receiver object</description><inbound><propertylist><property name="sessionid" importable="true" bfxp_value="#"></property><property name="userid" importable="true" bfxp_value="#"></property><property name="username" importable="true" bfxp_value="#"></property><property name="vBIU" importable="false" bfxp_value="#SA.B1WS"></property></propertylist></inbound><outbound><propertylist></propertylist></outbound></interface><bizatoms><branch_unbranch name="atom2" nslist="xmlns:bfa=&apos;urn:com.sap.b1i.bizprocessor:bizatoms&apos; xmlns:xci=&apos;urn:com.sap.b1i.xcellerator:intdoc&apos; xmlns:b1e=&apos;urn:com.sap.b1i.sim:b1event&apos; xmlns:b1ie=&apos;urn:com.sap.b1i.sim:b1ievent&apos; xmlns:vpf=&apos;urn:com.sap.b1i.vplatform:entity&apos; xmlns:jdbc=&apos;urn:com.sap.b1i.adapter:jdbcadapter&apos; xmlns:rfc=&apos;urn:sap-com:document:sap:rfc:functions&apos; xmlns:sim=&apos;urn:com.sap.b1i.sim:entity&apos; xmlns:utils2=&apos;com.sap.b1i.bpc_tools.Utilities&apos; "><description>2</description><path xp_expr="/*"><include name="atom4" nslist="xmlns:bfa=&apos;urn:com.sap.b1i.bizprocessor:bizatoms&apos; xmlns:xci=&apos;urn:com.sap.b1i.xcellerator:intdoc&apos; xmlns:b1e=&apos;urn:com.sap.b1i.sim:b1event&apos; xmlns:b1ie=&apos;urn:com.sap.b1i.sim:b1ievent&apos; xmlns:vpf=&apos;urn:com.sap.b1i.vplatform:entity&apos; xmlns:jdbc=&apos;urn:com.sap.b1i.adapter:jdbcadapter&apos; xmlns:rfc=&apos;urn:sap-com:document:sap:rfc:functions&apos; xmlns:sim=&apos;urn:com.sap.b1i.sim:entity&apos; xmlns:utils2=&apos;com.sap.b1i.bpc_tools.Utilities&apos; "><description>sql call to database</description><subflow optional="false"><intended bfxp_href="#/com.sap.b1i.vplatform.runtime/vCall/callsql.bfd"></intended><propertylist><property name="atom" bfxp_value="#atom4"></property><property name="sessionid" bfxp_value="#!sessionid_"></property><property name="userid" bfxp_value="#!userid_"></property><property name="vbiu" bfxp_value="#!vBIU_"></property><property name="SysId" bfxp_value="#0010000100"></property><property name="SQL" bfxp_value="#select count(docentry) as TotalResult from OINV"></property><property name="mode" bfxp_value="#single"></property><property name="method" bfxp_value="#Automatic detection by key word"></property><property name="throwexception" bfxp_value="#false"></property></propertylist></subflow></include></path><path xp_expr="/*[count(/vpf:Msg/vpf:Body/vpf:Payload[@Role=&apos;S&apos;]/BOM/BO/Document_Lines/*) &amp;gt; 1]"><xform name="atom7" nslist="xmlns:bfa=&apos;urn:com.sap.b1i.bizprocessor:bizatoms&apos; xmlns:xci=&apos;urn:com.sap.b1i.xcellerator:intdoc&apos; xmlns:b1e=&apos;urn:com.sap.b1i.sim:b1event&apos; xmlns:b1ie=&apos;urn:com.sap.b1i.sim:b1ievent&apos; xmlns:vpf=&apos;urn:com.sap.b1i.vplatform:entity&apos; xmlns:jdbc=&apos;urn:com.sap.b1i.adapter:jdbcadapter&apos; xmlns:rfc=&apos;urn:sap-com:document:sap:rfc:functions&apos; xmlns:sim=&apos;urn:com.sap.b1i.sim:entity&apos; xmlns:utils2=&apos;com.sap.b1i.bpc_tools.Utilities&apos; "><description>xsl transformation</description><rule optional="false"><intended bfxp_href="#atom7.xsl"></intended><propertylist><property name="atom" bfxp_value="#atom7"></property><property name="sessionid" bfxp_value="#!sessionid_"></property><property name="userid" bfxp_value="#!userid_"></property><property name="vbiu" bfxp_value="#!vBIU_"></property></propertylist></rule></xform><include name="atom8" nslist="xmlns:bfa=&apos;urn:com.sap.b1i.bizprocessor:bizatoms&apos; xmlns:xci=&apos;urn:com.sap.b1i.xcellerator:intdoc&apos; xmlns:b1e=&apos;urn:com.sap.b1i.sim:b1event&apos; xmlns:b1ie=&apos;urn:com.sap.b1i.sim:b1ievent&apos; xmlns:vpf=&apos;urn:com.sap.b1i.vplatform:entity&apos; xmlns:jdbc=&apos;urn:com.sap.b1i.adapter:jdbcadapter&apos; xmlns:rfc=&apos;urn:sap-com:document:sap:rfc:functions&apos; xmlns:sim=&apos;urn:com.sap.b1i.sim:entity&apos; xmlns:utils2=&apos;com.sap.b1i.bpc_tools.Utilities&apos; "><description>store/delete/list documents of the local bizstore</description><subflow optional="false"><intended bfxp_href="#/com.sap.b1i.vplatform.runtime/vCall/storedoc.bfd"></intended><propertylist><property name="atom" bfxp_value="#atom8"></property><property name="sessionid" bfxp_value="#!sessionid_"></property><property name="userid" bfxp_value="#!userid_"></property><property name="vbiu" bfxp_value="#!vBIU_"></property><property name="Dataset" bfxp_value="#com.sap.b1i.vplatform.scenarios.design"></property><property name="Group" bfxp_value="#vBIU.SA.B1WS"></property><property name="Document" bfxp_value="#MsgPersist.xml"></property><property name="Payload" bfxp_value="#atom7"></property><property name="Operation" bfxp_value="#store document"></property></propertylist></subflow></include><split name="atom3" nslist="xmlns:bfa=&apos;urn:com.sap.b1i.bizprocessor:bizatoms&apos; xmlns:xci=&apos;urn:com.sap.b1i.xcellerator:intdoc&apos; xmlns:b1e=&apos;urn:com.sap.b1i.sim:b1event&apos; xmlns:b1ie=&apos;urn:com.sap.b1i.sim:b1ievent&apos; xmlns:vpf=&apos;urn:com.sap.b1i.vplatform:entity&apos; xmlns:jdbc=&apos;urn:com.sap.b1i.adapter:jdbcadapter&apos; xmlns:rfc=&apos;urn:sap-com:document:sap:rfc:functions&apos; xmlns:sim=&apos;urn:com.sap.b1i.sim:entity&apos; xmlns:utils2=&apos;com.sap.b1i.bpc_tools.Utilities&apos; "><description></description><outdoc_extract xp_expr="/vpf:Msg/vpf:Body/vpf:Payload[@Role=&apos;S&apos;]/BOM/BO/Document_Lines/*"></outdoc_extract></split><xform name="atom10" nslist="xmlns:bfa=&apos;urn:com.sap.b1i.bizprocessor:bizatoms&apos; xmlns:xci=&apos;urn:com.sap.b1i.xcellerator:intdoc&apos; xmlns:b1e=&apos;urn:com.sap.b1i.sim:b1event&apos; xmlns:b1ie=&apos;urn:com.sap.b1i.sim:b1ievent&apos; xmlns:vpf=&apos;urn:com.sap.b1i.vplatform:entity&apos; xmlns:jdbc=&apos;urn:com.sap.b1i.adapter:jdbcadapter&apos; xmlns:rfc=&apos;urn:sap-com:document:sap:rfc:functions&apos; xmlns:sim=&apos;urn:com.sap.b1i.sim:entity&apos; xmlns:utils2=&apos;com.sap.b1i.bpc_tools.Utilities&apos; "><description>predecessor transformation for b1object atom</description><rule optional="false"><intended bfxp_href="#atom10.xsl"></intended><propertylist><property name="atom" bfxp_value="#atom10"></property><property name="sessionid" bfxp_value="#!sessionid_"></property><property name="userid" bfxp_value="#!userid_"></property><property name="vbiu" bfxp_value="#!vBIU_"></property></propertylist></rule></xform><include name="atom9" nslist="xmlns:bfa=&apos;urn:com.sap.b1i.bizprocessor:bizatoms&apos; xmlns:xci=&apos;urn:com.sap.b1i.xcellerator:intdoc&apos; xmlns:b1e=&apos;urn:com.sap.b1i.sim:b1event&apos; xmlns:b1ie=&apos;urn:com.sap.b1i.sim:b1ievent&apos; xmlns:vpf=&apos;urn:com.sap.b1i.vplatform:entity&apos; xmlns:jdbc=&apos;urn:com.sap.b1i.adapter:jdbcadapter&apos; xmlns:rfc=&apos;urn:sap-com:document:sap:rfc:functions&apos; xmlns:sim=&apos;urn:com.sap.b1i.sim:entity&apos; xmlns:utils2=&apos;com.sap.b1i.bpc_tools.Utilities&apos; "><description>call to B1 via DI object API</description><subflow optional="false"><intended bfxp_href="#/com.sap.b1i.vplatform.runtime/vCall/callb1obj.bfd"></intended><propertylist><property name="atom" bfxp_value="#atom9"></property><property name="sessionid" bfxp_value="#!sessionid_"></property><property name="userid" bfxp_value="#!userid_"></property><property name="vbiu" bfxp_value="#!vBIU_"></property><property name="SysId" bfxp_value="#0010000100"></property><property name="Method" bfxp_value="#Synchronous Insert"></property><property name="Object" bfxp_value="#13"></property><property name="KeyName" bfxp_value="#DocEntry"></property><property name="KeyValue" bfxp_value="#"></property><property name="Payload" bfxp_value="#atom10"></property><property name="B1Login" bfxp_value="#Technical User"></property><property name="throwException" bfxp_value="#false"></property></propertylist></subflow></include><join name="atom_close3"><description></description></join></path><otherwise triggerAlways="false"><xform name="atom5" nslist="xmlns:bfa=&apos;urn:com.sap.b1i.bizprocessor:bizatoms&apos; xmlns:xci=&apos;urn:com.sap.b1i.xcellerator:intdoc&apos; xmlns:b1e=&apos;urn:com.sap.b1i.sim:b1event&apos; xmlns:b1ie=&apos;urn:com.sap.b1i.sim:b1ievent&apos; xmlns:vpf=&apos;urn:com.sap.b1i.vplatform:entity&apos; xmlns:jdbc=&apos;urn:com.sap.b1i.adapter:jdbcadapter&apos; xmlns:rfc=&apos;urn:sap-com:document:sap:rfc:functions&apos; xmlns:sim=&apos;urn:com.sap.b1i.sim:entity&apos; xmlns:utils2=&apos;com.sap.b1i.bpc_tools.Utilities&apos; "><description>xsl transformation</description><rule optional="false"><intended bfxp_href="#atom5.xsl"></intended><propertylist><property name="atom" bfxp_value="#atom5"></property><property name="sessionid" bfxp_value="#!sessionid_"></property><property name="userid" bfxp_value="#!userid_"></property><property name="vbiu" bfxp_value="#!vBIU_"></property></propertylist></rule></xform><include name="atom6" nslist="xmlns:bfa=&apos;urn:com.sap.b1i.bizprocessor:bizatoms&apos; xmlns:xci=&apos;urn:com.sap.b1i.xcellerator:intdoc&apos; xmlns:b1e=&apos;urn:com.sap.b1i.sim:b1event&apos; xmlns:b1ie=&apos;urn:com.sap.b1i.sim:b1ievent&apos; xmlns:vpf=&apos;urn:com.sap.b1i.vplatform:entity&apos; xmlns:jdbc=&apos;urn:com.sap.b1i.adapter:jdbcadapter&apos; xmlns:rfc=&apos;urn:sap-com:document:sap:rfc:functions&apos; xmlns:sim=&apos;urn:com.sap.b1i.sim:entity&apos; xmlns:utils2=&apos;com.sap.b1i.bpc_tools.Utilities&apos; "><description>put message to internal queue</description><subflow optional="false"><intended bfxp_href="#/com.sap.b1i.vplatform.runtime/vCall/callqueue.bfd"></intended><propertylist><property name="atom" bfxp_value="#atom6"></property><property name="sessionid" bfxp_value="#!sessionid_"></property><property name="userid" bfxp_value="#!userid_"></property><property name="vbiu" bfxp_value="#!vBIU_"></property><property name="queue" bfxp_value="#Q.INB_IQ_INTQ_ASYN_QS.0010000000"></property><property name="stream" bfxp_value="#SA.IQ2B1"></property><property name="input" bfxp_value="#atom5"></property></propertylist></subflow></include></otherwise></branch_unbranch><xform name="atom1" nslist="xmlns:bfa=&apos;urn:com.sap.b1i.bizprocessor:bizatoms&apos; xmlns:xci=&apos;urn:com.sap.b1i.xcellerator:intdoc&apos; xmlns:b1e=&apos;urn:com.sap.b1i.sim:b1event&apos; xmlns:b1ie=&apos;urn:com.sap.b1i.sim:b1ievent&apos; xmlns:vpf=&apos;urn:com.sap.b1i.vplatform:entity&apos; xmlns:jdbc=&apos;urn:com.sap.b1i.adapter:jdbcadapter&apos; xmlns:rfc=&apos;urn:sap-com:document:sap:rfc:functions&apos; xmlns:sim=&apos;urn:com.sap.b1i.sim:entity&apos; xmlns:utils2=&apos;com.sap.b1i.bpc_tools.Utilities&apos; "><description>xsl transformation</description><rule optional="false"><intended bfxp_href="#atom1.xsl"></intended><propertylist><property name="atom" bfxp_value="#atom1"></property><property name="sessionid" bfxp_value="#!sessionid_"></property><property name="userid" bfxp_value="#!userid_"></property><property name="vbiu" bfxp_value="#!vBIU_"></property></propertylist></rule></xform><xform name="atom11" nslist="xmlns:bfa=&apos;urn:com.sap.b1i.bizprocessor:bizatoms&apos; xmlns:xci=&apos;urn:com.sap.b1i.xcellerator:intdoc&apos; xmlns:b1e=&apos;urn:com.sap.b1i.sim:b1event&apos; xmlns:b1ie=&apos;urn:com.sap.b1i.sim:b1ievent&apos; xmlns:vpf=&apos;urn:com.sap.b1i.vplatform:entity&apos; xmlns:jdbc=&apos;urn:com.sap.b1i.adapter:jdbcadapter&apos; xmlns:rfc=&apos;urn:sap-com:document:sap:rfc:functions&apos; xmlns:sim=&apos;urn:com.sap.b1i.sim:entity&apos; xmlns:utils2=&apos;com.sap.b1i.bpc_tools.Utilities&apos; "><description>xsl transformation</description><rule optional="false"><intended bfxp_href="#atom11.xsl"></intended><propertylist><property name="atom" bfxp_value="#atom11"></property><property name="sessionid" bfxp_value="#!sessionid_"></property><property name="userid" bfxp_value="#!userid_"></property><property name="vbiu" bfxp_value="#!vBIU_"></property></propertylist></rule></xform><include name="atom12" nslist="xmlns:bfa=&apos;urn:com.sap.b1i.bizprocessor:bizatoms&apos; xmlns:xci=&apos;urn:com.sap.b1i.xcellerator:intdoc&apos; xmlns:b1e=&apos;urn:com.sap.b1i.sim:b1event&apos; xmlns:b1ie=&apos;urn:com.sap.b1i.sim:b1ievent&apos; xmlns:vpf=&apos;urn:com.sap.b1i.vplatform:entity&apos; xmlns:jdbc=&apos;urn:com.sap.b1i.adapter:jdbcadapter&apos; xmlns:rfc=&apos;urn:sap-com:document:sap:rfc:functions&apos; xmlns:sim=&apos;urn:com.sap.b1i.sim:entity&apos; xmlns:utils2=&apos;com.sap.b1i.bpc_tools.Utilities&apos; "><description>call to B1 via DI service API</description><subflow optional="false"><intended bfxp_href="#/com.sap.b1i.vplatform.runtime/vCall/callb1msg.bfd"></intended><propertylist><property name="atom" bfxp_value="#atom12"></property><property name="sessionid" bfxp_value="#!sessionid_"></property><property name="userid" bfxp_value="#!userid_"></property><property name="vbiu" bfxp_value="#!vBIU_"></property><property name="SysId" bfxp_value="#0010000100"></property><property name="B1Login" bfxp_value="#Technical User"></property><property name="throwException" bfxp_value="#true"></property><property name="MessageText" bfxp_value="//vpf:Payload[@id=&apos;atom11&apos;]/Mensaje"></property><property name="Subject" bfxp_value="#Facturas Creadas"></property><property name="UserCode" bfxp_value="#manager"></property><property name="SendInternal" bfxp_value="#true"></property></propertylist></subflow></include><xform name="atom0" nslist="xmlns:bfa=&apos;urn:com.sap.b1i.bizprocessor:bizatoms&apos; xmlns:xci=&apos;urn:com.sap.b1i.xcellerator:intdoc&apos; xmlns:b1e=&apos;urn:com.sap.b1i.sim:b1event&apos; xmlns:b1ie=&apos;urn:com.sap.b1i.sim:b1ievent&apos; xmlns:vpf=&apos;urn:com.sap.b1i.vplatform:entity&apos; xmlns:jdbc=&apos;urn:com.sap.b1i.adapter:jdbcadapter&apos; xmlns:rfc=&apos;urn:sap-com:document:sap:rfc:functions&apos; xmlns:sim=&apos;urn:com.sap.b1i.sim:entity&apos; xmlns:utils2=&apos;com.sap.b1i.bpc_tools.Utilities&apos; "><description>Invoke XSLT file to convert import object to result object</description><rule optional="false"><intended bfxp_href="#atom0.xsl"></intended><propertylist><property name="atom" bfxp_value="#atom0"></property><property name="sessionid" bfxp_value="#!sessionid_"></property><property name="userid" bfxp_value="#!userid_"></property><property name="vbiu" bfxp_value="#!vBIU_"></property><property name="final" bfxp_value="true"></property></propertylist></rule></xform></bizatoms></bizflow2>